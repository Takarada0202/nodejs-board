<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        table {
            width: 1000px;
            table-layout: fixed;
            text-align: center;
        }
        td {
            overflow: hidden;
        }
        
    </style>
</head>

<body>
    <div style="display: flex;">
        <form action="/boardList" method="GET">
            <input type="submit" value="getAllData">
        </form>
        <form action="/boardList/category/1" method="GET">
            <input type="submit" id="category1"  value="category1">
        </form>
        <form action="/boardList/category/2" method="GET">
            <input type="submit" id="category2"  value="category2">
        </form>
        <form action="/boardList/category/3" method="GET">
            <input type="submit" id="category3"  value="category3">
        </form>
        <form action="/boardList/category/4" method="GET">
            <input type="submit" id="category4"  value="category4">
        </form>
        <form action="/addPost" method="GET">
            <input type="submit" value="AddPost">
        </form>
        <form action="/boardList/search" method="post">
            <input type="text" name="searchValue" id="searchValue" required>
            <input type="submit" value="Search">
        </form>
    </div>
    <br>
    
    <div id="root">
        <table border="1" id="rootTd">
            <th>idx</th>
            <th>title</th>
            <th>name</th>
            <th>category</th>
        </table>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        function getdata() {
            $.ajax({
                method: "get",
                url: "http://localhost:3000/boardList/data?",
                success: (res) => {
                    let root = document.querySelector("#rootTd")
                    root.innerHTML = ''
                    res.result.forEach(val => {
                        root.innerHTML += `
                        <tr><td>${val.idx}</td><td><a href="/boardList/${val.idx}">${val.title_}</a></td><td>${val.name}</td><td>${val.category}</td><tr>
                        `
                    })
                }
            })
        }
        getdata()    
    </script>
</body>

</html>